(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-611cb6c5"],{3734:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.alert,(function(e,a){return s("div",{key:a,staticClass:"message bg-black p-0 mx-2 border border-secondary",class:{"message-animate":e.message===t.message}},[s("div",{staticClass:"d-flex align-items-center"},[t._m(0,!0),s("div",{staticClass:"border-left border-secondary p-3"},[s("span",[t._v(t._s(e.message))])])])])})),0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-3 text-success"},[s("i",{staticClass:"fas fa-exclamation-circle fa-2x"})])}],i=s("5530"),r=s("2f62"),o={name:"alert",computed:Object(i["a"])({},Object(r["c"])(["alert","message"]))},l=o,c=s("2877"),d=Object(c["a"])(l,a,n,!1,null,null,null);e["a"]=d.exports},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Alert"),s("div",{staticClass:"login"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[s("h1",{staticClass:"h3 text-center mb-4"},[t._v("管理員登入")]),s("label",{staticClass:"label",attrs:{for:"account"}},[t._v("帳號 "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"input",attrs:{type:"email",id:"account",placeholder:"Email@example.com"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("label",{staticClass:"label",attrs:{for:"password"}},[t._v("密碼 "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"button button-slide my-3 w-100",attrs:{type:"submit"}},[t._v(" 登入 ")]),s("router-link",{staticClass:"d-block button button-slide text-center w-100 h-auto p-2",attrs:{to:"/"}},[t._v(" 回首頁 ")])],1)]),t._m(0)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal animated fadeIn",attrs:{id:"SigninModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content bg-dark"},[s("div",{staticClass:"modal-body text-center p-4 h4"},[t._v(" 管理員已成功登入 ")])])])])}],i=s("1157"),r=s.n(i),o=s("3734"),l={name:"Login",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this,e=this;if(""!==e.user.username&&""!==e.user.password){this.$store.dispatch("loading",!0);var s="".concat("https://vue-course-api.hexschool.io","/admin/signin");this.$http.post(s,e.user).then((function(s){s.data.success?(r()("#SigninModal").modal("show"),e.$store.dispatch("loading",!1),setTimeout((function(){r()("#SigninModal").modal("hide")}),1e3),r()("#SigninModal").on("hidden.bs.modal",(function(){e.$router.push("/admin/products").catch((function(t){return t}))}))):s.data.success||(t.$store.dispatch("activeAlert","帳號或密碼輸入錯誤"),e.$store.dispatch("loading",!1))}))}else this.$store.dispatch("activeAlert","欄位不能留空")}},components:{Alert:o["a"]},created:function(){this.$store.dispatch("loading",!1)}},c=l,d=s("2877"),u=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-611cb6c5.4e5af1ff.js.map