(function(t){function n(n){for(var c,o,u=n[0],i=n[1],s=n[2],d=0,f=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);h&&h(n);while(f.length)f.shift()();return a.push.apply(a,s||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],c=!0,o=1;o<e.length;o++){var u=e[o];0!==r[u]&&(c=!1)}c&&(a.splice(n--,1),t=i(i.s=e[0]))}return t}var c={},o={app:0},r={app:0},a=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-000dce54":"41df57aa","chunk-04b38a13":"21d6dd4f","chunk-2a67cc3c":"cd8d3cbe","chunk-2d0ae5a4":"da5f5f46","chunk-2d0d6733":"63232dc3","chunk-2d21717a":"6fd26474","chunk-2d0c0e61":"422f1ddc","chunk-2d0d2bad":"4957ffd4","chunk-2d216ba8":"78b7c5f4","chunk-2d230a64":"38b374c3","chunk-60aa01c3":"c6e844a5","chunk-610993ff":"6834ecc1","chunk-611cb6c5":"4e5af1ff","chunk-76694b62":"4afbe008","chunk-a25cab72":"d88a93be","chunk-c5751744":"f2d8bc7a"}[t]+".js"}function i(n){if(c[n])return c[n].exports;var e=c[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.e=function(t){var n=[],e={"chunk-2a67cc3c":1};o[t]?n.push(o[t]):0!==o[t]&&e[t]&&n.push(o[t]=new Promise((function(n,e){for(var c="css/"+({}[t]||t)+"."+{"chunk-000dce54":"31d6cfe0","chunk-04b38a13":"31d6cfe0","chunk-2a67cc3c":"39bd8ace","chunk-2d0ae5a4":"31d6cfe0","chunk-2d0d6733":"31d6cfe0","chunk-2d21717a":"31d6cfe0","chunk-2d0c0e61":"31d6cfe0","chunk-2d0d2bad":"31d6cfe0","chunk-2d216ba8":"31d6cfe0","chunk-2d230a64":"31d6cfe0","chunk-60aa01c3":"31d6cfe0","chunk-610993ff":"31d6cfe0","chunk-611cb6c5":"31d6cfe0","chunk-76694b62":"31d6cfe0","chunk-a25cab72":"31d6cfe0","chunk-c5751744":"31d6cfe0"}[t]+".css",r=i.p+c,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===c||d===r))return n()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===c||d===r)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var c=n&&n.target&&n.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete o[t],h.parentNode.removeChild(h),e(a)},h.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){o[t]=0})));var c=r[t];if(0!==c)if(c)n.push(c[2]);else{var a=new Promise((function(n,e){c=r[t]=[n,e]}));n.push(c[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(t);var f=new Error;s=function(n){d.onerror=d.onload=null,clearTimeout(h);var e=r[t];if(0!==e){if(e){var c=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;f.message="Loading chunk "+t+" failed.\n("+c+": "+o+")",f.name="ChunkLoadError",f.type=c,f.request=o,e[1](f)}r[t]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(n)},i.m=t,i.c=c,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var c in t)i.d(e,c,function(n){return t[n]}.bind(null,c));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/GentSkin/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var h=d;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("4de4"),e("4160"),e("b64b"),e("159b");var c=e("5530"),o=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),r=e("bc3a"),a=e.n(r),u=e("a7fe"),i=e.n(u),s=e("9062"),d=e.n(s),f=(e("e40d"),e("4989"),e("7bb1")),h=e("4c93"),l=e("60d4"),p=e("4b3c"),m=e.n(p),g=(e("a434"),e("d3b7"),e("2f62")),b=(e("99af"),{strict:!0,namespaced:!0,state:{products:[],suitCategory:[],sameProducts:[],pageNum:0},actions:{getProducts:function(t,n){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/products/all");a.a.get(e).then((function(e){e.data.success&&(t.commit("PRODUCTS",e.data.products),t.commit("SUITCATEGORY",e.data.products),n&&t.commit("SAMERPODUCTS",[e.data.products,n]))}))},productCarousel:function(t){var n=window.innerWidth;n<=767?t.commit("PAGENUM",2):n<=1023?t.commit("PAGENUM",3):t.commit("PAGENUM",4)}},mutations:{PRODUCTS:function(t,n){t.products=n},SUITCATEGORY:function(t,n){t.suitCategory=n.filter((function(t){return"suit"===t.Item}))},SAMERPODUCTS:function(t,n){t.sameProducts=n[0].filter((function(t){return t.category===n[1].category&&t.title!==n[1].title}))},PAGENUM:function(t,n){t.pageNum=n}},getters:{products:function(t){return t.products},suitCategory:function(t){return t.suitCategory},sameProducts:function(t){return t.sameProducts},pageNum:function(t){return t.pageNum}}}),v={strict:!0,namespaced:!0,state:{cart:[],cartAmout:0,isDisable:!1,isAdding:""},actions:{disable:function(t,n){t.commit("DISABLE",n)},adding:function(t,n){t.commit("ADDING",n)},getCart:function(t){var n=sessionStorage.getItem("discount"),e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/cart");a.a.get(e).then((function(e){if(e.data.success){var c=e.data.data.carts.length;null!=n||0===c?(t.commit("CART",e.data.data),t.commit("CARTAMOUT",c)):e.data.data.carts.forEach((function(n,e){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/cart/").concat(n.id);a.a.delete(o).then((function(n){n.data.success&&c-1===e&&t.dispatch("getCart")}))}))}}))},removeCartItem:function(t,n){t.commit("LOADING",!0,{root:!0});var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/cart/").concat(n);a.a.delete(e).then((function(n){n.data.success&&(t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0}),t.dispatch("activeAlert","商品已被刪除",{root:!0}))}))},addtoCart:function(t,n){var e=n.id,c=n.amount,o=n.buyNow,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/cart"),u={product_id:e,qty:c};return new Promise((function(n){a.a.post(r,{data:u}).then((function(e){e.data.success&&(t.dispatch("getCart"),t.dispatch("activeAlert","商品已加入購物車",{root:!0}),o?(t.commit("ARROWICON",!1,{root:!0}),t.commit("LOADING",!1,{root:!0})):(t.commit("DISABLE",!1),t.commit("ADDING","")),n())}))}))}},mutations:{DISABLE:function(t,n){t.isDisable=n},ADDING:function(t,n){t.isAdding=n},CART:function(t,n){t.cart=n},CARTAMOUT:function(t,n){t.cartAmout=n}},getters:{cart:function(t){return t.cart},cartAmout:function(t){return t.cartAmout},isDisable:function(t){return t.isDisable},isAdding:function(t){return t.isAdding}}},k={strict:!0,namespaced:!0,state:{newOrderId:[],orderList:[]},actions:{getOrderList:function(t,n){t.commit("NEWORDERID",n);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/order/").concat(n);a.a.get(e).then((function(n){n.data.success&&t.commit("ORDERLIST",n.data.order)}))},createOrder:function(t,n){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/order");return new Promise((function(c){a.a.post(e,{data:n}).then((function(n){if(n.data.success){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/pay/").concat(n.data.orderId);a.a.post(e).then((function(){})),setTimeout((function(){t.dispatch("cartModules/getCart",null,{root:!0}),t.dispatch("getOrderList",n.data.orderId),c()}),2e3)}}))}))}},mutations:{NEWORDERID:function(t,n){t.newOrderId=n},ORDERLIST:function(t,n){t.orderList.push(n)}},getters:{newOrderId:function(t){return t.newOrderId},orderList:function(t){return t.orderList}}};o["a"].use(g["a"]);var A=new g["a"].Store({strict:!0,state:{isLoading:!1,login:!1,mobileMenu:!1,menuIcon:"",arrowIcon:!1,alert:[],message:""},actions:{loading:function(t,n){t.commit("LOADING",n)},login:function(t,n){t.commit("LOGINSTATE",n)},mobileMenuClose:function(t,n){t.commit("MOBILEMENUCLOSE",n)},activeIcon:function(t,n){var e=n.status,c=n.category;t.commit("ARROWICON",e),t.commit("MENUICON",c)},activeAlert:function(t,n){var e=function(n,e,c){return new Promise((function(o){setTimeout((function(){t.commit(n,c),o()}),e)}))};e("SETALERT",0,n).then((function(){return e("MESSAGE",100,n).then((function(){return e("MESSAGE",4e3,"delete")})).then((function(){return e("DELETEALERT",1e3)}))}))}},mutations:{LOADING:function(t,n){t.isLoading=n},LOGINSTATE:function(t,n){t.login=n},MOBILEMENUCLOSE:function(t,n){t.mobileMenu=n},MENUICON:function(t,n){t.menuIcon=n},ARROWICON:function(t,n){t.arrowIcon=n},SETALERT:function(t,n){t.alert.push({message:n})},MESSAGE:function(t,n){t.message=n},DELETEALERT:function(t){t.alert.splice(0,1)}},getters:{isLoading:function(t){return t.isLoading},menuIcon:function(t){return t.menuIcon},arrowIcon:function(t){return t.arrowIcon},alert:function(t){return t.alert},message:function(t){return t.message},login:function(t){return t.login},mobileMenu:function(t){return t.mobileMenu}},modules:{productsModules:b,cartModules:v,orderModules:k}}),E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(n){t.isLoading=n}}}),e("router-view")],1)},O=[],I={computed:{isLoading:function(){return this.$store.state.isLoading}}},L=I,y=(e("5c0b"),e("2877")),C=Object(y["a"])(L,E,O,!1,null,null,null),T=C.exports,S=e("8c4f");o["a"].use(S["a"]);var w=new S["a"]({routes:[{path:"*",redirect:"/"},{path:"/",component:function(){return e.e("chunk-2a67cc3c").then(e.bind(null,"d504"))},children:[{path:"/",name:"Home",component:function(){return Promise.all([e.e("chunk-2d0ae5a4"),e.e("chunk-2d21717a")]).then(e.bind(null,"c4f9"))}},{path:"article",name:"Article",component:function(){return e.e("chunk-76694b62").then(e.bind(null,"fde1"))}},{path:"about",name:"About",component:function(){return e.e("chunk-c5751744").then(e.bind(null,"7227"))}},{path:"helper",name:"Helper",component:function(){return e.e("chunk-a25cab72").then(e.bind(null,"8ae9"))}},{path:"contact",name:"Contact",component:function(){return e.e("chunk-2d0c0e61").then(e.bind(null,"446a"))}},{path:"shop/:item",name:"Product",component:function(){return e.e("chunk-04b38a13").then(e.bind(null,"aa5c"))}},{path:"content/:mainItem/:item",name:"Content",component:function(){return Promise.all([e.e("chunk-2d0ae5a4"),e.e("chunk-2d0d6733")]).then(e.bind(null,"7334"))}},{path:"order",name:"Order",component:function(){return e.e("chunk-60aa01c3").then(e.bind(null,"69e9"))},meta:{requiresLogin:!0}},{path:"check",name:"Check",component:function(){return e.e("chunk-2d216ba8").then(e.bind(null,"c467"))}}]},{path:"/login",name:"Login",component:function(){return e.e("chunk-611cb6c5").then(e.bind(null,"a55b"))}},{path:"/admin",component:function(){return e.e("chunk-610993ff").then(e.bind(null,"7277"))},children:[{path:"products",name:"Products",component:function(){return e.e("chunk-000dce54").then(e.bind(null,"4333"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return e.e("chunk-2d230a64").then(e.bind(null,"ecd4"))},meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:function(){return e.e("chunk-2d0d2bad").then(e.bind(null,"5a6a"))},meta:{requiresAuth:!0}}]}],scrollBehavior:function(){return new Promise((function(t){setTimeout((function(){t({x:0,y:0})}),300)}))}});o["a"].prototype.$bus=new o["a"];e("a9e3"),e("b680"),e("ac1f"),e("5319");var N=function(t){var n=Number(t);return"$".concat(n.toFixed(0).replace(/./g,(function(t,n,e){var c=n&&"."!==t&&(e.length-n)%3===0?", ".concat(t).replace(/\s/g,""):t;return c})))},D=function(t){var n=new Date(1e3*t);return n.toLocaleDateString()};o["a"].config.productionTip=!1,o["a"].use(i.a,a.a),o["a"].use(m.a),Object.keys(h).forEach((function(t){Object(f["c"])(t,Object(c["a"])({},h[t],{message:l.messages[t]}))})),o["a"].component("Loading",d.a),o["a"].filter("currency",N),o["a"].filter("date",D),a.a.defaults.withCredentials=!0,new o["a"]({el:"#app",router:w,store:A,components:{App:T},template:"<App/>",render:function(t){return t(T)}}).$mount("#app"),w.beforeResolve((function(t,n,e){if(t.meta.requiresAuth){var c="".concat("https://vue-course-api.hexschool.io","/api/user/check");a.a.post(c).then((function(t){t.data.success?e():e({path:"/login"})}))}else e()}))},"5c0b":function(t,n,e){"use strict";var c=e("9c0c"),o=e.n(c);o.a},"9c0c":function(t,n,e){}});
//# sourceMappingURL=app.4879c5f2.js.map