(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6733"],{7334:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"content py-3 py-lg-5",class:{"vh-100":0===t.sameProducts.length}},[0!==t.sameProducts.length?a("div",{staticClass:"container"},[a("ul",{staticClass:"nav py-5"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.$store.dispatch("activeIcon",!1),t.$router.push("/").catch((function(t){return t}))}}},[t._v(" 首頁 ")])]),t._m(0),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.$router.push({path:"/shop/collections"}).catch((function(t){return t}))}}},[t._v(" 分類 ")])]),t._m(1),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.$router.push({path:"/shop/"+t.product.category}).catch((function(t){}))}}},[t._v(" "+t._s(t.mainItem)+" ")])]),t._m(2),a("li",{staticClass:"nav-item"},[a("p",{staticClass:"m-0 nav-link"},[t._v(" "+t._s(t.item)+" ")])])]),a("div",{staticClass:"row pb-5 mb-5"},[a("div",{staticClass:"col-lg-6 pr-lg-5"},[a("img",{attrs:{src:t.product.imageUrl}})]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"itemInfo"},[a("div",{},[a("h3",{staticClass:"itemInfo-title mb-3"},[a("strong",[t._v(" "+t._s(t.product.title)+" ")])]),a("div",{staticClass:"itemInfo-price mb-3"},[t.product.origin_price>0?a("h4",{staticClass:"text-secondary ml-lg-5"},[a("del",[t._v(" "+t._s(t._f("currency")(t.product.origin_price))+" ")])]):t._e(),t.product.price?a("h4",{staticClass:"ml-lg-0",class:{"text-danger":t.product.origin_price>0,"ml-5":t.product.origin_price>0}},[t._v(" "+t._s(t._f("currency")(t.product.price))+" ")]):t._e()])]),a("form",{staticClass:"form"},[a("label",{staticClass:"label my-3 mb-lg-5",attrs:{for:"amount"}},[t._v(" 數量 "),a("div",{staticClass:"d-flex justify-content-between pt-2 pt-lg-0"},[a("button",{staticClass:"btn p-0",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.getAmount("minus")}}},[a("i",{staticClass:"fas fa-minus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"input",attrs:{type:"text",id:"amount",disabled:""},domProps:{value:t.amount},on:{input:function(s){s.target.composing||(t.amount=s.target.value)}}}),a("button",{staticClass:"btn p-0",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.getAmount("plus")}}},[a("i",{staticClass:"fas fa-plus"})])])]),a("div",{staticClass:"button-warp"},[a("button",{staticClass:"button button-slide mr-5 mb-sm-5",attrs:{disabled:t.isDisable},on:{click:function(s){return s.preventDefault(),t.addtoCart(t.product.id,t.amount,!1)}}},[t._v(" 加入購物車 "),t.isAdding===t.product.id?a("i",{staticClass:"fas fa-xs fa-spinner fa-spin mr-1"}):t._e()]),a("button",{staticClass:"button button-slide",on:{click:function(s){return s.preventDefault(),t.addtoCart(t.product.id,t.amount,!0)}}},[t._v(" 立即購買 ")])])]),a("div",{staticClass:"content-introduce mt-5"},[t._m(3),a("p",[t._v(t._s(t.product.description)+" "),a("br")]),a("p",[t._v(t._s(t.product.content))]),a("p",[t._v("製造：台灣")]),t._m(4),t._m(5)])])])]),a("h4",{staticClass:"text-center my-5"},[t._v("你可能會喜歡")]),a("carousel",{attrs:{"per-page":t.pageNum,paginationEnabled:!1,scrollPerPage:!1,"mouse-drag":!0,autoplay:!0,autoplayTimeout:5500,loop:!0,speed:3e3}},t._l(t.sameProducts,(function(s){return a("slide",{key:s.id,staticClass:"similarItem p-2"},[a("div",{staticClass:"similarItem-img",style:{backgroundImage:"url("+s.imageUrl+")"}},[a("div",{staticClass:"wrap-shadow"},[a("div",{staticClass:"similarItem-content"},[a("div",{staticClass:"similarItem-text"},[a("p",{staticClass:"h5"},[t._v(" "+t._s(s.title)+" ")]),a("p",{staticClass:"h4"},[a("span",{class:{"text-danger":s.origin_price>0}},[t._v(" "+t._s(t._f("currency")(s.price))+" ")]),s.origin_price>0?a("span",{staticClass:"h6"},[a("del",[t._v(t._s(t._f("currency")(s.origin_price))+" ")])]):t._e()])]),a("a",{staticClass:"button button-slide text-center h-auto p-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getItem(s.category,s.Item,s.id)}}},[t._v(" 查看商品 ")])])])])])})),1)],1):t._e()])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("p",{staticClass:"nav-link m-0 px-0"},[t._v("/")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("p",{staticClass:"nav-link m-0 px-0"},[t._v("/")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("p",{staticClass:"nav-link m-0 px-0"},[t._v("/")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h5",{staticClass:"text-info"},[a("strong",[t._v("商品介紹")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h5",{staticClass:"text-info"},[a("strong",[t._v("季節優惠")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"m-0"},[a("i",{staticClass:"fas fa-thumbs-up mr-2"}),t._v("結帳時可輸入優惠碼享折扣")])}],n=(a("99af"),a("4de4"),a("d3b7"),a("5530")),c=a("1157"),r=a.n(c),o=a("0a63"),u=a("2f62"),l={data:function(){return{product:[],amount:1,mainItem:"",item:""}},computed:Object(n["a"])({},Object(u["c"])("productsModules",["sameProducts","pageNum"]),{},Object(u["c"])("cartModules",["isDisable","isAdding","cart"])),methods:Object(n["a"])({},Object(u["b"])("productsModules",["productCarousel"]),{getProduct:function(t){var s=this,a=this;a.$store.dispatch("loading",!0);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/product/").concat(t),i=a.$route.params.mainItem,n=a.$route.params.item;this.$http.get(e).then((function(t){t.data.success&&(a.product=t.data.product,s.$store.dispatch("productsModules/getProducts",a.product),"tops"===i?(a.mainItem="上衣","t-shirt"===n?a.item="短袖":"shirt"===n?a.item="襯衫":"outer"===n?a.item="外套":"suit"===n&&(a.item="西裝")):"bottoms"===i?(a.mainItem="下身","shorts"===n?a.item="短褲":"pants"===n?a.item="長褲":"jeans"===n&&(a.item="牛仔褲")):"accessories"===i&&(a.mainItem="配件","hat"===n?a.item="帽子":"bag"===n?a.item="背包":"shoes"===n&&(a.item="鞋類"))),s.$store.dispatch("loading",!1)}))},getAmount:function(t){var s=this;"plus"===t&&s.amount<5?s.amount+=1:"minus"===t&&s.amount>1?s.amount-=1:s.amount<1?s.amount=1:this.$store.dispatch("activeAlert","商品數量範圍 1 - 5")},clearQty:function(t){var s=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("gentskin","/cart/").concat(t);return new Promise((function(t){s.$http.delete(a).then((function(s){s.data.success&&t()}))}))},addtoCart:function(t,s,a){var e=this,i=sessionStorage.getItem("sign");if(null!=i&&a)this.$store.dispatch("loading",!0);else{if(a)return r()("#loginModal").modal("show"),void this.$store.dispatch("activeAlert","請先登入會員",{root:!0});this.$store.dispatch("cartModules/disable",!0),this.$store.dispatch("cartModules/adding",t)}var n=this,c=n.cart.carts.filter((function(t){return t.product_id===n.product.id}));if(1===c.length){var o=s+c[0].qty;this.clearQty(c[0].id).then((function(){e.$store.dispatch("cartModules/addtoCart",{id:t,amount:o,buyNow:a}).then((function(){a&&e.$router.push("/order")}))}))}else{var u=s;this.$store.dispatch("cartModules/addtoCart",{id:t,amount:u,buyNow:a}).then((function(){a&&e.$router.push("/order")}))}},getItem:function(t,s,a){var e=this;e.$router.push({path:"/content/".concat(t,"/").concat(s),query:{id:a}}),e.getProduct(a),window.scrollTo(0,0)}}),created:function(){this.getProduct(this.$route.query.id),this.productCarousel()},components:{Carousel:o["Carousel"],Slide:o["Slide"]}},d=l,p=a("2877"),m=Object(p["a"])(d,e,i,!1,null,null,null);s["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0d6733.63232dc3.js.map